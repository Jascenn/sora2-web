# ============================================================================
# Production Environment Configuration
# ============================================================================
# Copy this file to .env.production and fill in the values
# SECURITY WARNING: Never commit .env.production to version control!
# ============================================================================

# ============================================================================
# Application Settings
# ============================================================================
VERSION=latest
NODE_ENV=production

# ============================================================================
# Docker Registry (for pushing images)
# ============================================================================
# Examples:
# - Docker Hub: docker.io/yourusername
# - GitHub Container Registry: ghcr.io/your-org
# - AWS ECR: 123456789012.dkr.ecr.us-east-1.amazonaws.com
DOCKER_REGISTRY=ghcr.io/your-org

# ============================================================================
# Database (PostgreSQL)
# ============================================================================
POSTGRES_USER=sora2user
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_MIN_16_CHARS
POSTGRES_DB=sora2db
POSTGRES_PORT=5432

# Database connection pool settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# PostgreSQL performance tuning
POSTGRES_MAX_CONNECTIONS=200

# Data persistence paths
POSTGRES_DATA_PATH=./data/postgres

# ============================================================================
# Redis Cache
# ============================================================================
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Data persistence paths
REDIS_DATA_PATH=./data/redis

# ============================================================================
# API Service
# ============================================================================
API_PORT=3101

# JWT Authentication
# Generate strong secrets with: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_VERY_STRONG_SECRET_KEY_MIN_32_CHARS
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=CHANGE_ME_DIFFERENT_STRONG_SECRET_KEY_MIN_32_CHARS
JWT_REFRESH_EXPIRES_IN=30d

# AWS S3 Configuration (for file storage)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_S3_BUCKET=

# Sora API Configuration
SORA_API_KEY=CHANGE_ME_YOUR_SORA_API_KEY
SORA_API_URL=https://api.openai.com/v1
SORA_TIMEOUT=300000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Configuration
# For multiple origins, separate with commas
CORS_ORIGIN=https://yourdomain.com
CORS_CREDENTIALS=true

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Security
SECURE_COOKIES=true
TRUST_PROXY=true

# ============================================================================
# Web Service
# ============================================================================
WEB_PORT=3100

# Public API URL (must be accessible from browser)
# This should be your domain or load balancer URL
NEXT_PUBLIC_API_URL=https://api.yourdomain.com

# Analytics (optional)
NEXT_PUBLIC_GA_ID=
NEXT_PUBLIC_ENABLE_ANALYTICS=false

# ============================================================================
# Nginx (Reverse Proxy)
# ============================================================================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# Nginx logs path
NGINX_LOGS_PATH=./logs/nginx

# ============================================================================
# Monitoring & Observability (Optional)
# ============================================================================
# Uncomment and configure if using monitoring tools

# Sentry (Error tracking)
# NEXT_PUBLIC_SENTRY_DSN=
# SENTRY_DSN=

# DataDog (APM & Monitoring)
# DD_API_KEY=
# DD_SITE=datadoghq.com

# New Relic (APM)
# NEW_RELIC_LICENSE_KEY=
# NEW_RELIC_APP_NAME=sora2-api

# ============================================================================
# Email Service (Optional)
# ============================================================================
# SMTP Configuration
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=
# SMTP_PASSWORD=
# SMTP_FROM=noreply@yourdomain.com

# SendGrid
# SENDGRID_API_KEY=

# ============================================================================
# Feature Flags (Optional)
# ============================================================================
# ENABLE_USER_REGISTRATION=true
# ENABLE_SOCIAL_LOGIN=false
# ENABLE_BETA_FEATURES=false

# ============================================================================
# Security Settings
# ============================================================================
# CRITICAL: Authentication bypass must be disabled in production!
# This should ONLY be true in local development environments
BYPASS_AUTH=false

# ============================================================================
# Backup Configuration (Optional)
# ============================================================================
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *
# BACKUP_RETENTION_DAYS=30
# BACKUP_S3_BUCKET=sora2-backups
